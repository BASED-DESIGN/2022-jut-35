"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445],{9445:function(t,n,e){e.r(n),e.d(n,{default:function(){return s}});var o=e(5893),r=e(7294),i=e(4232),l=e(5539),a=(e(5097),e(6502)),u=e(9402);var c=function(){var t=(0,i.Ky)((function(t){return t.gl})),n=(0,i.Ky)((function(t){return t.size})),e=n.width,a=n.height,c=(0,l.Z)((function(t){return t.break1Ref})),s=c.current?c.current.getBoundingClientRect():null,f=(0,l.Z)((function(t){return t.break2Ref})),m=f.current?f.current.getBoundingClientRect():null,g=(0,l.Z)((function(t){return t.break3Ref})),p=g.current?g.current.getBoundingClientRect():null,d=(0,l.Z)((function(t){return t.newWay1Ref})),v=d.current?d.current.getBoundingClientRect():null,y=(0,l.Z)((function(t){return t.newWay2Ref})),h=y.current?y.current.getBoundingClientRect():null,b=(0,l.Z)((function(t){return t.newWay3Ref})),j=b.current?b.current.getBoundingClientRect():null,M=(0,l.Z)((function(t){return t.newWay4Ref})),x=M.current?M.current.getBoundingClientRect():null,w=(0,l.Z)((function(t){return t.newWay5Ref})),I=w.current?w.current.getBoundingClientRect():null;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.Suspense,{fallback:"loading assets",children:(0,o.jsxs)("group",{position:[0,t.domElement.getBoundingClientRect().top,0],children:[null!==s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{url:"/gltf/kv2-man1.gltf",position:[.4*-e,a/2-(s.top+.3*s.height),-100],rotation:[-.2,-.2,0],animMoveY:!1,lazyIn:!0}),(0,o.jsx)(u.Z,{url:"/gltf/kv2-man2.gltf",position:[.3*-e,a/2-(s.top+.25*s.height),-100],rotation:[-.4,-.5,0],animMoveY:!1,lazyIn:!0}),(0,o.jsx)(u.Z,{url:"/gltf/kv2-man2.gltf",position:[.38*e,a/2-(s.top+.15*s.height),-100],rotation:[-.4,-.5,0],animMoveY:!1,lazyIn:!0})]}),null!==m&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{url:"/gltf/kv1-man1.gltf",position:[.4*-e,a/2-(m.top+.25*m.height),-100],rotation:[-.2,-.8,0],animMoveY:!1,lazyIn:!0}),(0,o.jsx)(u.Z,{url:"/gltf/kv1-man2.gltf",position:[.31*-e,a/2-(m.top+.3*m.height),-100],rotation:[-.2,-.8,0],animMoveY:!1,lazyIn:!0}),(0,o.jsx)(u.Z,{url:"/gltf/kv1-man3.gltf",position:[.14*-e,a/2-(m.top+.4*m.height),-100],rotation:[-.2,-.8,0],animMoveY:!1,lazyIn:!0})]}),null!==p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{url:"/gltf/kv2-man1.gltf",position:[.2*-e,a/2-(p.top+.35*p.height),-100],rotation:[-.3,-.2,0],animMoveY:!1,lazyIn:!0}),(0,o.jsx)(u.Z,{url:"/gltf/kv2-man2.gltf",position:[.1*-e,a/2-(p.top+.3*p.height),-100],rotation:[-.5,-.5,0],animMoveY:!1,lazyIn:!0}),(0,o.jsx)(u.Z,{url:"/gltf/kv2-man2.gltf",position:[.3*e,a/2-(p.top+.15*p.height),-100],rotation:[-.5,-.5,0],scale:1.2,animMoveY:!1,lazyIn:!0})]}),null!==v&&(0,o.jsx)(u.Z,{url:"/gltf/kv2-man4.gltf",position:[.25*e,a/2-(v.top-10),-100],rotation:[0,-.1,0],scale:.8,animMoveY:!1,lazyIn:!0}),null!==h&&(0,o.jsx)(u.Z,{url:"/gltf/kv1-man1.gltf",position:[.2*e,a/2-(h.top-10),-100],rotation:[.3,3.16,0],scale:.9,animMoveY:!1,lazyIn:!0}),null!==j&&(0,o.jsx)(u.Z,{url:"/gltf/kv2-man5.gltf",position:[.36*-e,a/2-(j.top+100),-100],rotation:[0,-.6,0],animMoveY:!1,lazyIn:!0}),null!==x&&(0,o.jsx)(u.Z,{url:"/gltf/kv2-man2.gltf",position:[.2*e,a/2-(x.top-0),-100],rotation:[.3,3.16,0],animMoveY:!1,lazyIn:!0}),null!==I&&(0,o.jsx)(u.Z,{url:"/gltf/kv2-man4.gltf",position:[.25*e,a/2-(I.top-10),-100],rotation:[0,-.1,0],animMoveY:!1,scale:.8,lazyIn:!0})]})}),(0,o.jsx)("directionalLight",{position:[0,0,0],intensity:.5}),(0,o.jsx)("ambientLight",{})]})};function s(t){t=null!==t?t:function(t){throw t}(new TypeError("Cannot destructure undefined"));return(0,o.jsx)(a.default,{wrapperClassName:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none z-40",children:(0,o.jsx)(c,{})})}},5097:function(t,n,e){var o=e(5893),r=e(7294),i=e(9477),l=r.memo((function(t){var n=t.intensity,e=void 0===n?1:n,l=t.color,a=void 0===l?16777215:l,u=(0,r.useRef)(null);return(0,r.useEffect)((function(){var t=document.querySelector("body"),n=t.addEventListener("mousemove",(function(n){var e;n.preventDefault();n.clientX,t.offsetWidth,n.clientY,t.offsetHeight;if(!(null===(e=u.current)||void 0===e?void 0:e.position))return null;u.current.position.copy(new i.Vector3(n.clientX-t.offsetWidth/2,-n.clientY+t.offsetHeight/2,-50))}),!1);return function(){t.removeEventListener("mousemove",n)}}),[]),(0,o.jsx)("pointLight",{ref:u,color:a,intensity:e})}));l.displayName="LightMouseTracker",l.propTypes={},n.Z=l},9402:function(t,n,e){e.d(n,{Z:function(){return j}});var o=e(5893),r=e(7294),i=e(4232),l=e(8626),a=e(9477),u=e(5449),c=e(4990);function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function f(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function m(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},o=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),o.forEach((function(n){f(t,n,e[n])}))}return t}function g(t,n){if(null==t)return{};var e,o,r=function(t,n){if(null==t)return{};var e,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)e=i[o],n.indexOf(e)>=0||(r[e]=t[e]);return r}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)e=i[o],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(r[e]=t[e])}return r}function p(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var o,r,i=[],l=!0,a=!1;try{for(e=e.call(t);!(l=(o=e.next()).done)&&(i.push(o.value),!n||i.length!==n);l=!0);}catch(u){a=!0,r=u}finally{try{l||null==e.return||e.return()}finally{if(a)throw r}}return i}}(t,n)||v(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,n){if(t){if("string"===typeof t)return s(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,n):void 0}}function y(t){var n,e,l,s=t.snap,f=t.global,v=t.cursor,y=void 0===v||v,h=t.children,b=t.speed,j=void 0===b?1:b,M=t.rotation,x=void 0===M?[0,0,0]:M,w=t.position,I=void 0===w?[0,0,0]:w,k=t.zoom,O=void 0===k?1:k,E=t.polar,Z=void 0===E?[0,Math.PI/2]:E,z=t.azimuth,R=void 0===z?[-1/0,1/0]:z,S=t.height,Y=void 0===S?[-100,100]:S,P=t.config,C=void 0===P?{mass:1,tension:170,friction:26}:P,B=t.animMoveX,L=void 0===B||B,A=t.animMoveY,T=void 0===A||A,W=(0,i.Ky)(),U=W.size,N=W.gl,X=(0,r.useRef)(),D=(0,r.useMemo)((function(){return[x[0]+Z[0],x[0]+Z[1]]}),[x[0],Z[0],Z[1]]),F=(0,r.useMemo)((function(){return[x[1]+R[0],x[1]+R[1]]}),[x[1],R[0],R[1]]),H=(0,r.useMemo)((function(){return[I[1]+Y[0],I[1]+Y[1]]}),[I[1],Y[0],Y[1]]),K=(0,r.useMemo)((function(){return[(n=a.MathUtils).clamp.apply(n,[x[0]].concat(d(D))),(e=a.MathUtils).clamp.apply(e,[x[1]].concat(d(F))),x[2]]}),[x[0],x[1],x[2],D,F]),_=(0,r.useMemo)((function(){return[I[0],(l=a.MathUtils).clamp.apply(l,[I[1]].concat(d(H))),I[2]]}),[I[0],I[1],I[2],H]),q=p((0,u.useSpring)((function(){return{scale:1,rotation:K,position:_,config:C}})),2),G=q[0],V=q[1],$=p((0,u.useSpring)((function(){return{rotation:[0,0,0],config:C}})),2),J=$[0],Q=$[1];(0,r.useEffect)((function(){V.start({scale:1,rotation:K,position:_,config:C})}),[K,_]),(0,r.useEffect)((function(){f&&y&&(N.domElement.style.cursor="grab")}),[f,y,N.domElement]);var tt=(0,c.useGesture)({onHover:function(t){var n=t.last,e=t.hovering;y&&!f&&(N.domElement.style.cursor=n?"auto":"grab"),V.start({scale:e?.99:1,position:e?[I[0],I[1]+15,I[2]]:I})},onDrag:function(t){var n,e,o=t.down,r=p(t.delta,2),i=r[0],l=r[1],u=t.memo,c=p(void 0===u?G.rotation.animation.to||K:u,2),f=c[0],m=c[1];y&&(N.domElement.style.cursor=o?"grabbing":"grab"),i=(n=a.MathUtils).clamp.apply(n,[m+i/U.width*Math.PI*j].concat(d(F))),l=(e=a.MathUtils).clamp.apply(e,[f+l/U.height*Math.PI*j].concat(d(D)));return V.start({scale:o&&l>D[1]/2?O:1,rotation:s&&!o?K:[l,i,0]}),[l,i]}},{target:f?N.domElement:void 0}),nt=(0,c.useMove)((function(t){var n=t.xy,e=(g(t,["xy"]),n[0]-U.width/2-_[0]),o=-(n[1]-U.height/2-N.domElement.getBoundingClientRect().top)-_[1];Q.start({rotation:[0,L?3e-4*e:0,T?1e-4*o:0]})}),{target:document.querySelector("body")});return(0,o.jsx)(u.a.group,m({},null===tt||void 0===tt?void 0:tt(),G,{children:(0,o.jsx)(u.a.group,m({},null===nt||void 0===nt?void 0:nt(),J,{children:(0,r.cloneElement)(h,{ref:X})}))}))}function h(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var b=(0,r.forwardRef)((function(t,n){var e=t.url,a=void 0===e?"/man-gltf/man1.gltf":e,c=t.scale,s=void 0===c?1:c,f=t.rotation,m=t.position,g=t.lazyIn,p=void 0!==g&&g,d=t.animMoveY,v=t.animMoveX,b=(0,l.L)(a).nodes,j=(0,i.Ky)((function(t){return t.size})),M=j.width,x=j.height,w=(0,r.useState)(!p),I=w[0],k=w[1],O=(0,u.useTransition)(I&&Object.keys(b).filter((function(t){return"Scene"!==t})),{from:{scale:[0,0,0],rotation:[0,1,0],position:[0,-30,0]},enter:function(t){t.r;return{scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]}},config:{mass:3,tension:1e3,friction:100,duration:300}});(0,r.useEffect)((function(){return document.addEventListener("scroll",E),function(){return document.removeEventListener("scroll",E)}}),[]);var E=function(t){if(!I&&p){var n=-m[1]+.5*x-.95*window.innerHeight;t.target.scrollingElement.scrollTop>n&&k(!0)}};return(0,o.jsx)(y,{config:{mass:2,tension:500},snap:{mass:4,tension:1500},rotation:f,position:m,polar:[-Math.PI/3,Math.PI/3],azimuth:[-Math.PI/1.4,Math.PI/2],animMoveX:v,animMoveY:d,children:(0,o.jsxs)("group",{dispose:null,children:[O((function(t,e){return e&&(0,o.jsx)(u.a.group,function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},o=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),o.forEach((function(n){h(t,n,e[n])}))}return t}({},t,{children:(0,o.jsx)("mesh",{ref:n,scale:s*M/360,geometry:b[e].geometry,position:b[e].position,material:b[e].material},"man-".concat(e))}))})),(0,o.jsx)("directionalLight",{intensity:.5,position:[50,300,50]})]})})}));b.displayName="Man";var j=b}}]);